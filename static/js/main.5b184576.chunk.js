/*! For license information please see main.5b184576.chunk.js.LICENSE.txt */
(this.webpackJsonpreactwitter=this.webpackJsonpreactwitter||[]).push([[0],{107:function(e,t,s){},108:function(e,t,s){},121:function(e,t,s){},122:function(e,t,s){},123:function(e,t,s){},142:function(e,t,s){},143:function(e,t,s){},144:function(e,t,s){},145:function(e,t,s){},146:function(e,t,s){},147:function(e,t,s){},156:function(e,t,s){},157:function(e,t,s){"use strict";s.r(t),s.d(t,"store",(function(){return Ce}));var c=s(0),a=s.n(c),n=s(39),r=s.n(n),i=(s(107),s(6)),l=(s.p,s(26)),o=(s(108),s.p,s(29)),u=s.n(o),j=s(2);function d(){return Object(j.jsxs)("div",{className:"register",children:[Object(j.jsx)("div",{className:"big-image-col",children:Object(j.jsx)("div",{className:"overlay-twitter",children:Object(j.jsx)(u.a,{className:"twitter-icon"})})}),Object(j.jsxs)("div",{className:"register-col",children:[Object(j.jsx)("div",{className:"twitter-sign-col",children:Object(j.jsx)(u.a,{className:"twitter-icon"})}),Object(j.jsx)("div",{className:"bigger-text-col",children:"In touch with the events"}),Object(j.jsx)("div",{className:"smaller-text-col",children:"Join ReacTwitter right now!"}),Object(j.jsxs)("div",{className:"register-col-btn",children:[Object(j.jsx)("div",{className:"register-btn-div",children:Object(j.jsxs)(l.b,{to:"/registerform",children:["  ",Object(j.jsx)("button",{className:"register-btn",children:"Register"})," "]})}),Object(j.jsx)("div",{className:"login-btn-div",children:Object(j.jsx)(l.b,{to:"/login",children:Object(j.jsx)("button",{className:"login-btn",children:"Log in"})})})]})]})]})}var b=s(9),m=s.n(b),O=s(11),f=s(16),p=s(98),x=(s(120),p.a.initializeApp({apiKey:"AIzaSyDA5sEcESGNGI5oee2C1QGAV8aDtDauGxg",authDomain:"reactwitter-364e1.firebaseapp.com",projectId:"reactwitter-364e1",storageBucket:"reactwitter-364e1.appspot.com",messagingSenderId:"274058259196",appId:"1:274058259196:web:9ccde899f0b3090d294579"})),h=x.firestore(),v=x.storage();s(63);function w(){var e=x.auth(),t=Object(f.f)(),s=Object(c.useState)(""),a=Object(i.a)(s,2),n=a[0],r=a[1],o=Object(c.useState)(""),d=Object(i.a)(o,2),b=d[0],p=d[1],h=Object(c.useState)(""),v=Object(i.a)(h,2),w=v[0],g=v[1],N=function(){var s=Object(O.a)(m.a.mark((function s(){var c,a;return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.signInWithEmailAndPassword(n,b);case 3:c=s.sent,console.log(c),t.push("/dashboard"),s.next=16;break;case 8:return s.prev=8,s.t0=s.catch(0),console.log(s.t0),s.next=13,s.t0.message;case 13:a=s.sent,console.log(a),g(a);case 16:case"end":return s.stop()}}),s,null,[[0,8]])})));return function(){return s.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"login",children:[Object(j.jsx)("div",{className:"twitter-sign",children:Object(j.jsx)(u.a,{className:"twitter-icon"})}),Object(j.jsx)("div",{className:"twitter-login-text",children:"Log in to ReacTwitter"}),w&&Object(j.jsx)("p",{children:"Check your email and password and try again"}),Object(j.jsx)("div",{className:"login-email",children:Object(j.jsx)("input",{type:"text",placeholder:"Your e-mail",onChange:function(e){return r(e.target.value)}})}),Object(j.jsx)("div",{className:"login-password",children:Object(j.jsx)("input",{type:"password",placeholder:"Your e-password",onChange:function(e){return p(e.target.value)}})}),Object(j.jsx)("div",{className:"login-btn-form",children:Object(j.jsx)("button",{className:"login-btn-form-btn",onClick:function(){return N()},children:"Log in"})}),Object(j.jsxs)("div",{className:"forgot-register",children:[Object(j.jsx)("div",{className:"forgot",children:Object(j.jsxs)(l.b,{to:"/forgotpassword",children:[" ",Object(j.jsx)("a",{href:"#",children:" Forgot password? "})," "]})}),Object(j.jsx)("div",{className:"register-redirect",children:Object(j.jsx)(l.b,{to:"/registerform",children:Object(j.jsx)("a",{href:"#",children:"Register"})})})]})]})}s(121);var g=s(179),N=s(84),S=s.n(N);s(122);function k(e){var t=e.active,s=e.text,c=e.Icon,a=e.redirect;return Object(j.jsx)(l.b,{to:a,children:Object(j.jsxs)("div",{className:"sidebarOption ".concat(t&&"sidebarOption-active"),children:[c,Object(j.jsx)("h2",{children:s})]})})}var y=s(58),I=s.n(y),U=s(85),C=s.n(U),R=s(86),E=s.n(R),D=s(87),P=s.n(D),T=s(88),F=s.n(T),L=s(89),G=s.n(L),A=s(90),J=s.n(A);function _(){var e=[["Home",Object(j.jsx)(S.a,{}),"/dashboard"],["Explore",Object(j.jsx)(I.a,{})],["Notifications",Object(j.jsx)(C.a,{})],["Messages",Object(j.jsx)(E.a,{})],["Bookmarks",Object(j.jsx)(P.a,{})],["Lists",Object(j.jsx)(F.a,{})],["Profile",Object(j.jsx)(G.a,{}),"/profile"],["More",Object(j.jsx)(J.a,{})]];return Object(j.jsxs)("div",{className:"sidebar",children:[Object(j.jsx)(u.a,{className:"twitter-icon"}),e.map((function(e){var t=e[1];return Object(j.jsx)(k,{active:!0,text:e[0],Icon:t,redirect:e[2]})})),Object(j.jsx)(g.a,{variant:"outlined",className:"sidebar-btn",fullWidth:"true",children:"Tweet"})]})}var M=s(7),Y=(s(123),s(180)),B=(s(124),s(142),s(91)),z=s.n(B),W=s(92),X=s.n(W),H=s(93),V=s.n(H),K=s(94),Q=s.n(K),q=s(95),Z=s.n(q);function $(e){var t=x.auth().currentUser,s=Object(c.useRef)(null),a=Object(c.useState)(""),n=Object(i.a)(a,2),r=n[0],l=n[1],o=Object(c.useState)(""),u=Object(i.a)(o,2),d=u[0],b=u[1],f=Object(c.useState)(""),p=Object(i.a)(f,2),w=(p[0],p[1]),g=Object(c.useState)(""),N=Object(i.a)(g,2),S=N[0],k=N[1],y=Object(c.useState)(""),I=Object(i.a)(y,2),U=I[0],C=I[1],R=Object(c.useState)(""),E=Object(i.a)(R,2),D=E[0],P=E[1],T=Object(c.useState)(!1),F=Object(i.a)(T,2),L=F[0],G=F[1],A=Object(c.useState)(""),J=Object(i.a)(A,2),_=J[0],M=J[1],B=Object(c.useState)(),W=Object(i.a)(B,2),H=W[0],K=W[1],q=Object(c.useState)(""),$=Object(i.a)(q,2),ee=$[0],te=$[1],se=function(){var e=Object(O.a)(m.a.mark((function e(){var s,c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("func fired"),!t){e.next=12;break}return console.log("current user"),s=t.uid,console.log(s),e.next=7,h.collection("users").where("userId","==",s).get();case 7:c=e.sent,console.log("userdata"),(a=c.docs.map((function(e){return e.data()}))[0])&&(C(a.avatar),k(a.displayName),P(a.twittername),M(a.joined),a.bio&&te(a.bio));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){se()}),[]);var ce=function(){var s=Object(O.a)(m.a.mark((function s(c){var a,n,i,o,u;return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(c.preventDefault(),a=new Date,n=a.toJSON().slice(0,10).replace(/-/g,"/")+" "+a.toTimeString().split(" ")[0],i="",!d){s.next=14;break}return o=v.ref(),u=o.child(H.name),s.next=9,u.put(H);case 9:return s.next=11,u.getDownloadURL();case 11:i=s.sent,console.log("LINK TO FIREBASE IMAGE"),console.log(i);case 14:return s.next=16,h.collection("photos").add({url:i,userId:t.uid,timeStamp:n});case 16:return s.next=18,h.collection("tweets").add({avatar:U,displayName:S,image:i,text:r,userId:t.uid,userName:D,verified:!0,likes:[],retweets:[],responses:[],timeStamp:n,children:[],joined:_,bio:ee});case 18:b(""),w(""),l(""),e.update("aaaa");case 22:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"tweetbox",children:[Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"tweetbox-input",children:[Object(j.jsx)(Y.a,{src:U}),Object(j.jsx)("input",{type:"text",value:r,onChange:function(e){return l(e.target.value)},placeholder:"Enter your tweet..."})]}),Object(j.jsx)("div",{className:"tweet-img",children:d&&Object(j.jsx)("img",{src:d,className:""})}),Object(j.jsxs)("div",{className:"tweetbox-submit-line",children:[Object(j.jsxs)("div",{className:"media-submit-line",children:[Object(j.jsx)("input",{type:"file",id:"file",name:"image",ref:s,style:{display:"none"},onChange:function(e){var t=e.target.files;if(t&&t.length){var s=t[0].name.split("."),c=s[s.length-1];if("PNG"==c||"JPG"==c||"JPEG"==c||"png"==c||"jpg"==c||"jpeg"==c){var a=URL.createObjectURL(t[0]);b(a),console.log(t[0]),K(t[0])}}}}),Object(j.jsxs)("span",{onClick:function(e){s.current.click()},className:"media-submit-line",children:[" ",Object(j.jsx)(X.a,{})," "]}),Object(j.jsx)(V.a,{}),Object(j.jsxs)("span",{onClick:function(){return G(!L)},className:"emoji-submit-line",children:[" ",Object(j.jsx)(Q.a,{})," "]}),Object(j.jsx)(Z.a,{})]}),Object(j.jsxs)("div",{className:"tweet-btn-container",children:[" ",Object(j.jsx)("button",{className:"tweet-btn",variant:"outlined",onClick:function(e){return ce(e)},children:"Tweet "})]})]})]}),L&&Object(j.jsx)(z.a,{onEmojiClick:function(e,t){l("".concat(r).concat(t.emoji))}})]})}var ee=s(52),te=(s(143),s(174)),se=s(175),ce=s(176),ae=s(177),ne=s(178),re=s(96),ie=s.n(re),le=s(28);function oe(e){var t=e.displayName,s=e.userName,a=e.avatar,n=e.verified,r=(e.timestamp,e.text),o=e.image,u=e.timeStamp,d=e.currUser,b=e.update,f=e.updatePost,p=e.joined,v=e.thisPostUserId,w=e.bio,g=Object(le.b)(),N=Object(c.useState)(0),S=Object(i.a)(N,2),k=(S[0],S[1]),y=Object(c.useState)(0),I=Object(i.a)(y,2),U=I[0],C=I[1],R=Object(c.useState)(),E=Object(i.a)(R,2),D=E[0],P=E[1],T=Object(c.useState)(0),F=Object(i.a)(T,2),L=F[0],G=(F[1],Object(c.useState)()),A=Object(i.a)(G,2),J=A[0],_=(A[1],Object(c.useState)()),M=Object(i.a)(_,2),B=M[0],z=M[1],W=Object(c.useState)(),X=Object(i.a)(W,2),H=X[0],V=X[1],K=Object(c.useState)(!1),Q=Object(i.a)(K,2),q=Q[0],Z=Q[1],$=Object(c.useState)(""),re=Object(i.a)($,2),oe=re[0],ue=re[1],je=Object(c.useState)([]),de=Object(i.a)(je,2),be=de[0],me=de[1],Oe=Object(c.useState)(""),fe=Object(i.a)(Oe,2),pe=fe[0],xe=fe[1];Object(c.useEffect)((function(){we(),ve(),he()}),[]),Object(c.useEffect)((function(){k((function(e){return e+1})),console.log("post updated")}),[f]);var he=function(){var e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("tweets").where("timeStamp","==",u).get();case 2:t=e.sent,t.docs.map((function(e){return e.data()}))[0].userId==d?xe("/profile"):xe("/otheruserprofile");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(O.a)(m.a.mark((function e(){var t,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("tweets").where("timeStamp","==",u).get();case 2:t=e.sent,s=t.docs.map((function(e){return e.data()}))[0],z(s.retweet),s.retweet&&V(s.retweetedBy);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(O.a)(m.a.mark((function e(){var t,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("tweets").where("timeStamp","==",u).get();case 2:t=e.sent,(s=t.docs.map((function(e){return e.data()}))[0])&&s.likes.length>0&&(c=s.likes.includes(d),P(!!c),C(s.likes.length));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(O.a)(m.a.mark((function e(){var t,s,c,a,n,r,i,l,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("tweets").where("timeStamp","==",u).get();case 2:if(t=e.sent,s=t.docs[0].id,c=t.docs.map((function(e){return e.data()}))[0],!c.likes.includes(d)){e.next=24;break}return a=c.likes.findIndex((function(e){return e==d})),c.likes.splice(a,1),e.next=11,h.collection("tweets").doc(s).set(c);case 11:if(e.sent,!c.retweet){e.next=21;break}return e.next=15,h.collection("tweets").doc(c.parent).get().then((function(e){n=e.data()}));case 15:return e.sent,r=n.likes.findIndex((function(e){return e==d})),n.likes.splice(r,1),e.next=20,h.collection("tweets").doc(c.parent).set(n);case 20:e.sent;case 21:P(!1),e.next=37;break;case 24:return c.likes.push(d),e.next=27,h.collection("tweets").doc(s).set(c);case 27:if(e.sent,!c.retweet){e.next=36;break}return e.next=31,h.collection("tweets").doc(c.parent).get().then((function(e){i=e.data()}));case 31:return e.sent,i.likes.push(d),e.next=35,h.collection("tweets").doc(c.parent).set(i);case 35:e.sent;case 36:P(!0);case 37:return e.next=39,h.collection("tweets").where("timeStamp","==",u).get();case 39:l=e.sent,o=l.docs.map((function(e){return e.data()}))[0].likes.length,C(o);case 42:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(O.a)(m.a.mark((function e(){var s,c,a,n,r,i,l,o,j,O,f,p,x,v;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("tweets").where("timeStamp","==",u).get();case 2:if(s=e.sent,c=new Date,a=c.toJSON().slice(0,10).replace(/-/g,"/")+" "+c.toTimeString().split(" ")[0],n=s.docs.map((function(e){return e.data()}))[0],r=s.docs[0].id,!n.retweet){e.next=37;break}return console.log("this is retweet!!!"),i=n.parent,e.next=12,h.collection("tweets").doc(i).get().then((function(e){l=e.data()}));case 12:if(e.sent,!l.retweets.includes(d)){e.next=27;break}return console.log("delete retweet"),o=l.retweets.findIndex((function(e){return e==d})),l.retweets.splice(o,1),j=l.children.findIndex((function(e){return e==r})),l.children.splice(j,1),e.next=21,h.collection("tweets").doc(i).set(l);case 21:return e.sent,e.next=24,h.collection("tweets").doc(r).delete();case 24:e.sent,e.next=35;break;case 27:return e.next=29,h.collection("tweets").add(Object(ee.a)(Object(ee.a)({},l),{},{retweetedBy:t,timeStamp:a,retweet:!0})).then((function(e){return e.id}));case 29:return e.sent,l.retweets.push(d),l.children.push(r),e.next=34,h.collection("tweets").doc(i).set(l);case 34:e.sent;case 35:e.next=67;break;case 37:if(console.log("this is original tweet"),!n.retweets.includes(d)){e.next=59;break}return console.log("delete retweet"),e.next=42,h.collection("tweets").where("retweet","==",!0).where("userId","==",d).where("parent","==",r).get();case 42:return p=e.sent,p.docs.map((function(e){return e.data()}))[0],e.next=46,h.collection("tweets").where("retweet","==",!0).where("userId","==",d).where("parent","==",r).get().then((function(e){f=e.docs[0].id}));case 46:return e.sent,x=n.retweets.findIndex((function(e){return e==d})),n.retweets.splice(x,1),v=n.children.findIndex((function(e){return e==r})),n.children.splice(v,1),e.next=53,h.collection("tweets").doc(r).set(n);case 53:return e.sent,e.next=56,h.collection("tweets").doc(f).delete();case 56:e.sent,e.next=67;break;case 59:return e.next=61,h.collection("tweets").add(Object(ee.a)(Object(ee.a)({},n),{},{retweetedBy:t,parent:r,timeStamp:a,retweet:!0})).then((function(e){return O=e.id}));case 61:return e.sent,n.children.push(O),n.retweets.push(d),e.next=66,h.collection("tweets").doc(r).set(n);case 66:e.sent;case 67:b("aaa");case 68:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(O.a)(m.a.mark((function e(){var t,s,c,a,n,r,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,s=t.toJSON().slice(0,10).replace(/-/g,"/")+" "+t.toTimeString().split(" ")[0],x.auth().currentUser,e.next=5,h.collection("users").where("userId","==",d).get();case 5:return c=e.sent,a=c.docs.map((function(e){return e.data()}))[0],e.next=9,h.collection("tweets").where("timeStamp","==",u).get();case 9:return n=e.sent,r=n.docs[0].id,i=n.docs.map((function(e){return e.data()}))[0],e.next=14,h.collection("tweets").add({avatar:a.avatar,displayName:a.displayName,image:"",text:oe,userId:d,userName:a.twittername,verified:!0,likes:[],retweets:[],responses:[],timeStamp:s,children:[],isReply:!0,parent:r}).then((function(e){return l=e.id}));case 14:return i.responses.push(l),e.next=17,h.collection("tweets").doc(r).set(i);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q){e.next=2;break}return e.delegateYield(m.a.mark((function e(){var t,s,c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("tweets").where("timeStamp","==",u).get();case 2:t=e.sent,t.docs[0].id,s=t.docs.map((function(e){return e.data()}))[0].responses,c=[],a=0;case 7:if(!(a<s.length)){e.next=14;break}return e.next=10,h.collection("tweets").doc(s[a]).get().then((function(e){c.push(e.data())}));case 10:e.sent;case 11:a++,e.next=7;break;case 14:me(c);case 15:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:Z(!q);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"post",children:[Object(j.jsx)("div",{className:"post-avatar",children:Object(j.jsx)(Y.a,{src:a})}),Object(j.jsxs)("div",{className:"post-body",children:[Object(j.jsxs)("div",{className:"post-header",children:[B&&Object(j.jsxs)("p",{children:[H," retweeted"]}),Object(j.jsxs)(l.b,{to:pe,children:[" ",Object(j.jsx)("div",{className:"header-text",onClick:function(){g({type:"ADD_USERINFO",payload:[t,s,a,n,p,v,w]})},children:Object(j.jsxs)("h3",{children:[t," ",Object(j.jsx)("span",{children:n&&Object(j.jsx)(te.a,{className:"verified-icon"})}),"   @",s," \xb7 ",u]})})]}),Object(j.jsx)("div",{className:"post-headerdescription",children:Object(j.jsx)("p",{children:r})})]}),Object(j.jsx)("div",{className:"post-img",children:o&&Object(j.jsx)("img",{src:o})}),Object(j.jsxs)("div",{className:"footer-icons",children:[Object(j.jsxs)("span",{className:"reply-span",onClick:function(){return ke()},children:[" ",be?be.length:0," ",Object(j.jsx)(se.a,{fontSize:"small"})," "]}),Object(j.jsxs)("span",{className:"retweet-span",onClick:function(){return Ne()},children:[L,Object(j.jsx)(ce.a,{fontSize:"small",style:{fill:J&&"green"}})]}),Object(j.jsxs)("span",{className:"like-span",onClick:function(){return ge()},children:[" ",U," ",D?Object(j.jsx)(ie.a,{fontSize:"small",style:{fill:"red"}}):Object(j.jsx)(ae.a,{fontSize:"small"})," "]}),Object(j.jsx)(ne.a,{fontSize:"small"})]}),q&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{type:"text",placeholder:"Your reply",className:"reply-input",onChange:function(e){return ue(e.target.value)}}),Object(j.jsx)("button",{className:"reply-btn",onClick:function(){return Se()},children:"Send"}),Object(j.jsx)("ul",{children:be.map((function(e){return Object(j.jsxs)("div",{className:"post",children:[Object(j.jsx)("div",{className:"post-avatar",children:Object(j.jsx)(Y.a,{src:e.avatar})}),Object(j.jsx)("div",{className:"post-body",children:Object(j.jsxs)("div",{className:"post-header",children:[e.isRetweet&&Object(j.jsxs)("p",{children:[H," retweeted"]}),Object(j.jsx)("div",{className:"header-text",children:Object(j.jsxs)("h3",{children:[e.displayName," ",Object(j.jsx)("span",{children:e.verified&&Object(j.jsx)(te.a,{className:"verified-icon"})}),"   @",e.userName," \xb7 ",e.timeStamp]})}),Object(j.jsx)("div",{className:"post-headerdescription",children:Object(j.jsx)("p",{children:e.text})})]})})]})}))})]})]})]})}function ue(){var e,t=Object(le.b)(),s=Ce,a=Object(c.useState)(),n=Object(i.a)(a,2),r=(n[0],n[1],s.subscribe((function(){var t,c=e;t=s.getState(),c!==(e=t.update)&&w()}))),l=x.auth().currentUser,o=Object(c.useState)([]),u=Object(i.a)(o,2),d=u[0],b=u[1],f=Object(c.useState)(0),p=Object(i.a)(f,2);p[0],p[1];function v(){w(),console.log("got posts!!")}var w=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("tweets").get().then((function(e){var t=e.docs.map((function(e){return e.data()})),s=x.auth().currentUser.uid;h.collection("users").where("userId","==",s).get().then((function(e){var c=e.docs.map((function(e){return e.data()}))[0].following;t=t.map((function(e){return!(!c.includes(e.userId)&&e.userId!=s)&&e})).filter((function(e){return e})),b(t)}))}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){w(),r(),t({type:"USERID",payload:x.auth().currentUser.uid})}),[]),Object(j.jsxs)("div",{className:"feed",children:[Object(j.jsx)("div",{className:"feed-header",children:Object(j.jsx)("h2",{children:"Home"})}),Object(j.jsx)($,{update:v}),d.map((function(e){var t;return Object(j.jsx)(oe,(t={update:v,updatePost:d,text:e.text,displayName:e.displayName,userName:e.userName,avatar:e.avatar,verified:e.verified,timeStamp:e.timeStamp},Object(M.a)(t,"text",e.text),Object(M.a)(t,"image",e.image),Object(M.a)(t,"likes",e.likes),Object(M.a)(t,"retweets",e.retweets),Object(M.a)(t,"responses",e.responses),Object(M.a)(t,"currUser",l.uid),Object(M.a)(t,"retweeted",!!e.retweet),Object(M.a)(t,"joined",e.joined),Object(M.a)(t,"thisPostUserId",e.userId),Object(M.a)(t,"bio",e.bio?e.bio:""),t))})),"Feed"]})}s(144);var je=s(99);s(145);function de(e){var t=e.displayName,s=e.twittername,a=e.avatar,n=e.userId,r=Object(le.b)(),l=Object(c.useState)(!1),o=Object(i.a)(l,2),u=o[0],d=o[1],b=function(){var e=Object(O.a)(m.a.mark((function e(){var t,s,c,a,i,l,o,u,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("users").where("userId","==",n).get();case 2:return t=e.sent,s=t.docs[0].id,c=t.docs.map((function(e){return e.data()}))[0],a=x.auth().currentUser.uid,e.next=8,h.collection("users").where("userId","==",a).get();case 8:return i=e.sent,l=i.docs[0].id,o=i.docs.map((function(e){return e.data()}))[0],console.log("initial current user"),console.log(o),c.followers.includes(a)?(u=c.followers.findIndex((function(e){return e==a})),console.log("INDEXS"),console.log(u),c.followers.splice(u,1),j=o.following.findIndex((function(e){return e==n})),o.following.splice(j,1),d(!1)):(c.followers.push(a),o.following.push(n),d(!0)),console.log("current user changed"),console.log(o),console.log("other user changed"),console.log(c),e.next=20,h.collection("users").doc(s).set(c);case 20:return e.sent,e.next=23,h.collection("users").doc(l).set(o);case 23:e.sent,r({type:"UPDATE",payload:"abc"});case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"shortuser-widget",children:[Object(j.jsxs)("div",{className:"shortuser-avatar-text",children:[Object(j.jsx)("div",{className:"shortuser-avatar-container",children:Object(j.jsx)(Y.a,{src:a})}),Object(j.jsxs)("div",{className:"shortuser-text-container",children:[Object(j.jsx)("div",{children:Object(j.jsx)("strong",{children:t})}),Object(j.jsxs)("div",{children:["@",s]})]})]}),Object(j.jsx)("div",{className:"shortuser-button-container",children:Object(j.jsx)("button",{className:"shortuser-btn",onClick:function(){return b()},children:u?"Unfollow":"Follow"})})]})}function be(e){var t,s,a,n,r,l,o=e.userIdForImg,u=Object(c.useState)([]),d=Object(i.a)(u,2),b=d[0],f=d[1],p=Object(c.useState)([]),v=Object(i.a)(p,2),w=v[0],g=v[1],N=function(){var e=Object(O.a)(m.a.mark((function e(){var t,s,c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.auth().currentUser.uid,e.next=3,h.collection("users").get();case 3:s=e.sent,c=s.docs.map((function(e){return e.data()})),a=c.filter((function(e){return e.userId!=t&&!e.followers.includes(t)})),g(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(O.a)(m.a.mark((function e(){var t,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("USER ID FOR IMG IN WIDGETS"),console.log(o),e.next=4,h.collection("photos").get();case 4:t=e.sent,s=t.docs.map((function(e){return e.data()})),c=s.filter((function(e){return e.userId==o})).slice(0,5),console.log("IMAGES"),console.log(c),f(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){N(),S()}),[]),Object(j.jsx)("div",{className:"widgets",children:Object(j.jsxs)("div",{className:"widgets-input",children:[Object(j.jsx)(I.a,{className:"widgets-search"}),Object(j.jsx)("input",{placeholder:"Search Twitter",type:"text"}),Object(j.jsxs)("div",{className:"image-grid",children:[Object(j.jsxs)("div",{className:"image-line",children:[Object(j.jsx)("img",{className:"grid-img grid-img-left-up",src:null===(t=b[0])||void 0===t?void 0:t.url}),Object(j.jsx)("img",{className:"grid-img",src:null===(s=b[1])||void 0===s?void 0:s.url}),Object(j.jsx)("img",{className:"grid-img",src:null===(a=b[2])||void 0===a?void 0:a.url})]}),Object(j.jsxs)("div",{className:"image-line",children:[Object(j.jsx)("img",{className:"grid-img",src:null===(n=b[3])||void 0===n?void 0:n.url}),Object(j.jsx)("img",{className:"grid-img",src:null===(r=b[4])||void 0===r?void 0:r.url}),Object(j.jsx)("img",{className:"grid-img",src:null===(l=b[5])||void 0===l?void 0:l.url})]})]}),Object(j.jsxs)("div",{className:"suggestions",children:[Object(j.jsx)("div",{className:"suggestions-header-container",children:Object(j.jsx)("h2",{className:"suggestions-header",children:"You might like"})}),w.map((function(e){return Object(j.jsx)(de,{displayName:e.displayName,twittername:e.twittername,avatar:e.avatar,userId:e.userId})}))]}),Object(j.jsx)(je.a,{})]})})}s(146);function me(){var e=Object(f.f)(),t=Object(c.useState)(""),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)(""),l=Object(i.a)(r,2),o=l[0],d=l[1],b=Object(c.useState)(""),p=Object(i.a)(b,2),h=p[0],v=p[1],w=x.auth(),g=function(){var t=Object(O.a)(m.a.mark((function t(){var s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.createUserWithEmailAndPassword(a,o);case 3:t.sent,v("You have registered succesfully. Now we will redirect you to the next step of the registration process..."),setTimeout((function(){return e.push("/registertwo")}),3e3),t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,t.t0.message;case 12:s=t.sent,v(s);case 14:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"login",children:[Object(j.jsx)("div",{className:"twitter-sign",children:Object(j.jsx)(u.a,{className:"twitter-icon"})}),Object(j.jsx)("div",{className:"twitter-login-text",children:"Register in ReacTwitter"}),h&&Object(j.jsx)("p",{children:h}),Object(j.jsx)("div",{className:"login-email",children:Object(j.jsx)("input",{type:"text",placeholder:"Your e-mail",onChange:function(e){return n(e.target.value)}})}),Object(j.jsx)("div",{className:"login-password",children:Object(j.jsx)("input",{type:"password",placeholder:"Your password",onChange:function(e){return d(e.target.value)}})}),Object(j.jsx)("div",{className:"login-btn-form",children:Object(j.jsx)("button",{className:"login-btn-form-btn",onClick:function(){return g()},children:"Register"})})]})}function Oe(){var e=Object(f.f)(),t=Object(c.useState)(""),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)(""),l=Object(i.a)(r,2),o=(l[0],l[1],Object(c.useState)("")),d=Object(i.a)(o,2),b=d[0],p=d[1],h=Object(c.useState)(""),w=Object(i.a)(h,2),g=w[0],N=(w[1],Object(c.useState)("")),S=Object(i.a)(N,2),k=S[0],y=S[1],I=Object(c.useRef)(null),U=(x.auth(),function(){var e=Object(O.a)(m.a.mark((function e(t){var s,c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return s=v.ref(),c=s.child(t.name),e.next=5,c.put(t);case 5:return e.next=7,c.getDownloadURL();case 7:a=e.sent,p(a),e.next=12;break;case 11:alert("Please upload an image first.");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=function(){var t=Object(O.a)(m.a.mark((function t(){var s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.auth().currentUser;case 2:if(!(s=t.sent)){t.next=9;break}return t.next=6,s.updateProfile({displayName:a});case 6:return t.next=8,x.firestore().collection("users").add({userId:s.uid,avatar:b,displayName:a,twittername:k,joined:"".concat((new Date).getMonth()+1,"/").concat((new Date).getFullYear()),followers:[],following:[]});case 8:e.push("/dashboard");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"login",children:[Object(j.jsx)("div",{className:"twitter-sign",children:Object(j.jsx)(u.a,{className:"twitter-icon"})}),Object(j.jsx)("div",{className:"twitter-login-text",children:"Submit your information"}),g&&Object(j.jsx)("p",{children:g}),Object(j.jsx)("div",{className:"login-email",children:Object(j.jsx)("input",{type:"text",placeholder:"Your name",onChange:function(e){return y(e.target.value)}})}),Object(j.jsx)("div",{className:"login-email",children:Object(j.jsx)("input",{type:"text",placeholder:"Your usename",onChange:function(e){return n(e.target.value)}})}),Object(j.jsxs)("div",{className:"avatar-line",children:[Object(j.jsx)("div",{className:"avatar-img",children:b?Object(j.jsx)(Y.a,{className:"avatar-elem",src:b}):Object(j.jsx)(Y.a,{className:"avatar-elem"})}),Object(j.jsx)("div",{className:"choose-avatar-text",children:"Choose your profile picture"}),Object(j.jsx)("button",{onClick:function(){I.current.click()},className:"upload-avatar-btn",children:"Upload"}),Object(j.jsx)("input",{type:"file",id:"file",name:"image",ref:I,style:{display:"none"},onChange:function(e){var t=e.target.files;if(t&&t.length){var s=t[0].name.split("."),c=s[s.length-1];if("PNG"==c||"JPG"==c||"JPEG"==c||"png"==c||"jpg"==c||"jpeg"==c){var a=URL.createObjectURL(t[0]);p(a),U(t[0])}}}})]}),Object(j.jsx)("div",{className:"login-btn-form",children:Object(j.jsx)("button",{className:"login-btn-form-btn",onClick:function(){return C()},children:"Go to Dashboard"})})]})}s(147);var fe=s(59),pe=s.n(fe),xe=s(97),he=s.n(xe);function ve(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),s=Object(c.useRef)(null),a=Object(c.useRef)(null),n=Object(c.useRef)(null),r=Object(c.useRef)(null),l=Object(c.useRef)(null),o=Object(c.useRef)(null),d=Object(c.useRef)(null),b=Object(c.useState)(""),f=Object(i.a)(b,2),p=f[0],w=f[1],g=Object(c.useState)(""),N=Object(i.a)(g,2),S=N[0],k=N[1],y=Object(c.useState)(""),I=Object(i.a)(y,2),U=I[0],C=I[1],R=Object(c.useState)([]),E=Object(i.a)(R,2),D=E[0],P=E[1],T=Object(c.useState)([]),F=Object(i.a)(T,2),L=F[0],G=F[1],A=Object(c.useState)(""),J=Object(i.a)(A,2),B=J[0],z=J[1],W=Object(c.useState)(1),X=Object(i.a)(W,2),H=(X[0],X[1]),V=Object(c.useState)(""),K=Object(i.a)(V,2),Q=K[0],q=K[1],Z=Object(c.useState)([]),$=Object(i.a)(Z,2),ee=$[0],te=$[1],se=Object(c.useState)([]),ce=Object(i.a)(se,2),ae=ce[0],ne=ce[1],re=Object(c.useState)(0),ie=Object(i.a)(re,2),le=ie[0],ue=ie[1],je=Object(c.useState)(0),de=Object(i.a)(je,2),me=de[0],Oe=de[1],fe=Object(c.useState)(!1),xe=Object(i.a)(fe,2),ve=xe[0],we=xe[1],ge=Object(c.useState)(""),Ne=Object(i.a)(ge,2),Se=Ne[0],ke=Ne[1],ye=Object(c.useState)("Have a favorite selfie? Upload it now."),Ie=Object(i.a)(ye,2),Ue=Ie[0],Ce=Ie[1],Re=Object(c.useState)("Pick a profile picture"),Ee=Object(i.a)(Re,2),De=Ee[0],Pe=Ee[1],Te=Object(c.useState)(!0),Fe=Object(i.a)(Te,2),Le=Fe[0],Ge=Fe[1],Ae=Object(c.useState)(""),Je=Object(i.a)(Ae,2),_e=Je[0],Me=Je[1],Ye=function(){var e=Object(O.a)(m.a.mark((function e(t){var s,c,a,n,r,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=21;break}return s=v.ref(),c=s.child(t.name),e.next=5,c.put(t);case 5:return e.next=7,c.getDownloadURL();case 7:return a=e.sent,ke(a),n=x.auth().currentUser.uid,e.next=12,h.collection("users").where("userId","==",n).get();case 12:return r=e.sent,i=r.docs[0].id,(l=r.docs.map((function(e){return e.data()}))[0]).avatar=a,e.next=18,h.collection("users").doc(i).set(l);case 18:e.sent,e.next=22;break;case 21:alert("Please upload an image first.");case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(O.a)(m.a.mark((function e(){var t,s,c,a,n,r,i,l,o,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.auth()){e.next=28;break}return e.next=3,x.auth().currentUser;case 3:return t=e.sent,s=t.uid,z(s),e.next=8,h.collection("users").where("userId","==",s).get();case 8:return c=e.sent,a=c.docs.map((function(e){return e.data()}))[0],w(a.avatar),k(a.displayName),C(a.twittername),q(a.joined),e.next=16,h.collection("tweets").where("userId","==",s).get();case 16:return n=e.sent,r=n.docs.map((function(e){return e.data()})),P(r),i=r.filter((function(e){return!e.isReply})),G(i),e.next=23,h.collection("tweets").get();case 23:l=e.sent,o=l.docs.map((function(e){return e.data()})).filter((function(e){return e.likes.includes(s)})),te(o),u=n.docs.map((function(e){return e.data()})).filter((function(e){return e.image})),ne(u);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){Be(),ze()}),[]);var ze=function(){var e=Object(O.a)(m.a.mark((function e(){var t,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.auth().currentUser.uid;case 2:return t=e.sent,e.next=5,h.collection("users").where("userId","==",t).get();case 5:s=e.sent,c=s.docs.map((function(e){return e.data()}))[0],Oe(c.following.length),ue(c.followers.length),c.bio&&Me(c.bio);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(c){H(c),1==c?(e.current.className="visible-tab",t.current.className="invisible-tab",s.current.className="invisible-tab",a.current.className="invisible-tab",n.current.className="tweets-tweets-active",r.current.className="tweets-tweets-nonactive",l.current.className="tweets-tweets-nonactive",o.current.className="tweets-tweets-nonactive"):2==c?(e.current.className="invisible-tab",t.current.className="visible-tab",s.current.className="invisible-tab",a.current.className="invisible-tab",n.current.className="tweets-tweets-nonactive",r.current.className="tweets-tweets-active",l.current.className="tweets-tweets-nonactive",o.current.className="tweets-tweets-nonactive"):3==c?(e.current.className="invisible-tab",t.current.className="invisible-tab",s.current.className="visible-tab",a.current.className="invisible-tab",n.current.className="tweets-tweets-nonactive",r.current.className="tweets-tweets-nonactive",l.current.className="tweets-tweets-active",o.current.className="tweets-tweets-nonactive"):4==c&&(e.current.className="invisible-tab",t.current.className="invisible-tab",s.current.className="invisible-tab",a.current.className="visible-tab",n.current.className="tweets-tweets-nonactive",r.current.className="tweets-tweets-nonactive",l.current.className="tweets-tweets-nonactive",o.current.className="tweets-tweets-active")},Xe=function(){var e=Object(O.a)(m.a.mark((function e(){var t,s,c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.auth().currentUser.uid,e.next=3,h.collection("users").where("userId","==",t).get();case 3:return s=e.sent,c=s.docs[0].id,(a=s.docs.map((function(e){return e.data()}))[0]).bio=_e,e.next=9,h.collection("users").doc(c).set(a);case 9:e.sent,we(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(he.a,{className:"Modal",overlayClassName:"Overlay",isOpen:ve,contentLabel:"Minimal Modal Example",children:[Object(j.jsx)("div",{className:"modal",children:Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("div",{className:"twitter-icon-modal",children:Object(j.jsx)(u.a,{})}),Object(j.jsx)("div",{className:"modal-text-bold",children:Object(j.jsx)("h1",{children:De})}),Object(j.jsxs)("div",{className:"modal-text",children:[Object(j.jsx)("p",{children:Ue}),!Le&&Object(j.jsxs)(j.Fragment,{children:[_e.length," / 160 "]})]}),Object(j.jsx)("div",{className:"modal-content-avatar",children:Le?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Y.a,{src:Se,onClick:function(){d.current.click()}}),Object(j.jsx)("input",{type:"file",id:"file",name:"image",ref:d,style:{display:"none"},onChange:function(e){var t=e.target.files;if(t&&t.length){var s=t[0].name.split("."),c=s[s.length-1];if("PNG"==c||"JPG"==c||"JPEG"==c||"png"==c||"jpg"==c||"jpeg"==c){var a=URL.createObjectURL(t[0]);ke(a),Ye(t[0])}}}})," "]}):Object(j.jsxs)(j.Fragment,{children:["  ",Object(j.jsx)("br",{})," ",Object(j.jsx)("input",{type:"text",className:"modal-bio-text",value:_e,maxLength:160,onChange:function(e){return Me(e.target.value)}})," "]})})]})}),Object(j.jsxs)("div",{className:"close-btn-container",children:[Object(j.jsx)("button",{onClick:function(){return we(!1)},className:"close-modal-btn",children:"Close"}),Le?Object(j.jsx)("button",{onClick:function(){return Pe("Describe yourself"),Ce("What makes you special? Dont think too hard, just have fun with it."),void Ge(!1)},className:"close-modal-btn",children:"Next"}):Object(j.jsx)("button",{onClick:function(){return Xe()},className:"close-modal-btn",children:"Save and close"})]})]}),Object(j.jsxs)("div",{className:"profile",children:[Object(j.jsx)(_,{}),Object(j.jsxs)("div",{className:"profile-col",children:[Object(j.jsxs)("div",{className:"profile-header-profile",children:[Object(j.jsx)(Y.a,{src:p,className:"avatar-large"}),Object(j.jsxs)("div",{className:"profile-info",children:[Object(j.jsxs)("div",{className:"profile-up",children:[Object(j.jsxs)("div",{className:"profile-names",children:[Object(j.jsx)("div",{className:"displayname-profile",children:S}),Object(j.jsxs)("div",{className:"twittername-profile",children:["@",U]})]}),Object(j.jsxs)("div",{className:"editbtn",children:[" ",Object(j.jsx)("button",{className:"edit-profile-btn",onClick:function(){return we(!0)},children:"Edit profile"})]})]}),Object(j.jsxs)("div",{className:"joined-profile",children:[Object(j.jsx)(pe.a,{className:"inline-icon"}),"  Joined ",Q]}),Object(j.jsxs)("div",{className:"following-followers-profile",children:[" ",Object(j.jsx)("strong",{children:me})," following ",Object(j.jsx)("strong",{children:le})," Followers"]}),Object(j.jsx)("div",{className:"bio-profile",children:_e})]}),Object(j.jsxs)("div",{className:"select-profile",children:[Object(j.jsx)("div",{className:"tweets-tweets select-profile-item tweets-tweets-active",ref:n,onClick:function(){return We(1)},children:" Tweets "}),Object(j.jsx)("div",{className:"tweets-replies select-profile-item",ref:r,onClick:function(){return We(2)},children:"Tweets & replies"}),Object(j.jsx)("div",{className:"tweets-media select-profile-item",ref:l,onClick:function(){return We(3)},children:" Media"}),Object(j.jsx)("div",{className:"tweets-likes select-profile-item",ref:o,onClick:function(){return We(4)},children:"Likes"})]})]}),Object(j.jsxs)("div",{className:"ss",children:[Object(j.jsx)("div",{id:"1",ref:e,className:"visible-tab profile-col-scroll",children:L.map((function(e){var t;return Object(j.jsx)(oe,(t={text:e.text,displayName:e.displayName,userName:e.userName,avatar:e.avatar,verified:e.verified,timeStamp:e.timeStamp},Object(M.a)(t,"text",e.text),Object(M.a)(t,"image",e.image),Object(M.a)(t,"likes",e.likes),Object(M.a)(t,"retweets",e.retweets),Object(M.a)(t,"responses",e.responses),Object(M.a)(t,"currUser",B),Object(M.a)(t,"retweeted",!!e.retweet),t))}))}),Object(j.jsx)("div",{id:"2",ref:t,className:"invisible-tab",children:D.map((function(e){var t;return Object(j.jsx)(oe,(t={text:e.text,displayName:e.displayName,userName:e.userName,avatar:e.avatar,verified:e.verified,timeStamp:e.timeStamp},Object(M.a)(t,"text",e.text),Object(M.a)(t,"image",e.image),Object(M.a)(t,"likes",e.likes),Object(M.a)(t,"retweets",e.retweets),Object(M.a)(t,"responses",e.responses),Object(M.a)(t,"currUser",B),Object(M.a)(t,"retweeted",!!e.retweet),t))}))}),Object(j.jsx)("div",{id:"3",ref:s,className:"invisible-tab",children:ae.map((function(e){var t;return Object(j.jsx)(oe,(t={text:e.text,displayName:e.displayName,userName:e.userName,avatar:e.avatar,verified:e.verified,timeStamp:e.timeStamp},Object(M.a)(t,"text",e.text),Object(M.a)(t,"image",e.image),Object(M.a)(t,"likes",e.likes),Object(M.a)(t,"retweets",e.retweets),Object(M.a)(t,"responses",e.responses),Object(M.a)(t,"currUser",B),Object(M.a)(t,"retweeted",!!e.retweet),t))}))}),Object(j.jsx)("div",{id:"4",ref:a,className:"invisible-tab",children:ee.map((function(e){var t;return Object(j.jsx)(oe,(t={text:e.text,displayName:e.displayName,userName:e.userName,avatar:e.avatar,verified:e.verified,timeStamp:e.timeStamp},Object(M.a)(t,"text",e.text),Object(M.a)(t,"image",e.image),Object(M.a)(t,"likes",e.likes),Object(M.a)(t,"retweets",e.retweets),Object(M.a)(t,"responses",e.responses),Object(M.a)(t,"currUser",B),Object(M.a)(t,"retweeted",!!e.retweet),t))}))})]})]}),Object(j.jsx)(be,{userIdForImg:x.auth().currentUser.uid})]})]})}s(156);function we(){var e=Object(le.b)(),t=Object(c.useRef)(null),s=Object(c.useRef)(null),a=Object(c.useRef)(null),n=Object(c.useRef)(null),r=Object(c.useRef)(null),l=Object(c.useRef)(null),o=Object(c.useRef)(null),u=Object(c.useRef)(null),d=Object(c.useState)(""),b=Object(i.a)(d,2),f=b[0],p=b[1],v=Object(c.useState)(""),w=Object(i.a)(v,2),g=w[0],N=w[1],S=Object(c.useState)(""),k=Object(i.a)(S,2),y=k[0],I=k[1],U=Object(c.useState)(""),C=Object(i.a)(U,2),R=C[0],E=C[1],D=Object(c.useState)(""),P=Object(i.a)(D,2),T=P[0],F=P[1],L=Object(c.useState)(0),G=Object(i.a)(L,2),A=G[0],J=G[1],B=Object(c.useState)(0),z=Object(i.a)(B,2),W=z[0],X=z[1],H=Object(c.useState)([]),V=Object(i.a)(H,2),K=V[0],Q=V[1],q=Object(c.useState)([]),Z=Object(i.a)(q,2),$=Z[0],ee=Z[1],te=Object(c.useState)(""),se=Object(i.a)(te,2),ce=se[0],ae=se[1],ne=Object(le.c)((function(e){return e.userInfo}));Object(c.useEffect)((function(){console.log("user from redfux"),console.log(ne),p(ne[2]),N(ne[1]),I(ne[0]),E(ne[4]),Ne(ne[5]),Te(ne[5]),De(ne[5]),ae(ne[6]),e({type:"USERID",payload:ne[5]})}),[]);var re=Object(c.useState)([]),ie=Object(i.a)(re,2),ue=(ie[0],ie[1],Object(c.useState)([])),je=Object(i.a)(ue,2),de=(je[0],je[1],Object(c.useState)("")),me=Object(i.a)(de,2),Oe=me[0],fe=(me[1],Object(c.useState)(1)),xe=Object(i.a)(fe,2),he=(xe[0],xe[1]),ve=Object(c.useState)(""),we=Object(i.a)(ve,2),ge=we[0],Ne=we[1],Se=Object(c.useState)([]),ke=Object(i.a)(Se,2),ye=ke[0],Ie=ke[1],Ue=Object(c.useState)([]),Ce=Object(i.a)(Ue,2),Re=Ce[0],Ee=Ce[1],De=function(){var e=Object(O.a)(m.a.mark((function e(t){var s,c,a,n,r,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.auth()){e.next=19;break}return e.next=3,h.collection("users").where("userId","==",t).get();case 3:return s=e.sent,s.docs.map((function(e){return e.data()}))[0],e.next=7,h.collection("tweets").where("userId","==",t).get();case 7:return c=e.sent,a=c.docs.map((function(e){return e.data()})),Ie(a),n=a.filter((function(e){return!e.isReply})),Ee(n),e.next=14,h.collection("tweets").get();case 14:r=e.sent,i=r.docs.map((function(e){return e.data()})).filter((function(e){return e.likes.includes(t)})),Q(i),l=c.docs.map((function(e){return e.data()})).filter((function(e){return e.image})),ee(l);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(O.a)(m.a.mark((function e(){var t,s,c,a,n,r,i,l,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("users").where("userId","==",ge).get();case 2:return t=e.sent,s=t.docs[0].id,c=t.docs.map((function(e){return e.data()}))[0],a=x.auth().currentUser.uid,e.next=8,h.collection("users").where("userId","==",a).get();case 8:return n=e.sent,r=n.docs[0].id,i=n.docs.map((function(e){return e.data()}))[0],c.followers.includes(a)?(l=c.followers.findIndex((function(e){return e==a})),c.followers.splice(l,1),o=i.following.findIndex((function(e){return e==ge})),i.following.splice(o,1)):(c.followers.push(a),i.following.push(ge)),console.log("current user changed"),console.log(i),console.log("other user changed"),console.log(c),e.next=18,h.collection("users").doc(s).set(c);case 18:return e.sent,e.next=21,h.collection("users").doc(r).set(i);case 21:e.sent,Te(ge);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(O.a)(m.a.mark((function e(t){var s,c,a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.auth().currentUser.uid;case 2:return s=e.sent,e.next=5,h.collection("users").where("userId","==",s).get();case 5:return c=e.sent,a=c.docs.map((function(e){return e.data()}))[0],e.next=9,h.collection("users").where("userId","==",t).get();case 9:n=e.sent,r=n.docs.map((function(e){return e.data()}))[0],J(r.followers.length),X(r.following.length),a.following.includes(t)?(F(!0),console.log("true")):(F(!1),console.log("false"));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(e){he(e),1==e?(t.current.className="visible-tab",s.current.className="invisible-tab",a.current.className="invisible-tab",n.current.className="invisible-tab",r.current.className="tweets-tweets-active",l.current.className="tweets-tweets-nonactive",o.current.className="tweets-tweets-nonactive",u.current.className="tweets-tweets-nonactive"):2==e?(t.current.className="invisible-tab",s.current.className="visible-tab",a.current.className="invisible-tab",n.current.className="invisible-tab",r.current.className="tweets-tweets-nonactive",l.current.className="tweets-tweets-active",o.current.className="tweets-tweets-nonactive",u.current.className="tweets-tweets-nonactive"):3==e?(t.current.className="invisible-tab",s.current.className="invisible-tab",a.current.className="visible-tab",n.current.className="invisible-tab",r.current.className="tweets-tweets-nonactive",l.current.className="tweets-tweets-nonactive",o.current.className="tweets-tweets-active",u.current.className="tweets-tweets-nonactive"):4==e&&(t.current.className="invisible-tab",s.current.className="invisible-tab",a.current.className="invisible-tab",n.current.className="visible-tab",r.current.className="tweets-tweets-nonactive",l.current.className="tweets-tweets-nonactive",o.current.className="tweets-tweets-nonactive",u.current.className="tweets-tweets-active")};return Object(j.jsxs)("div",{className:"profile",children:[Object(j.jsx)(_,{}),Object(j.jsxs)("div",{className:"profile-col",children:[Object(j.jsxs)("div",{className:"profile-header",children:[Object(j.jsx)(Y.a,{src:f,className:"avatar-large"}),Object(j.jsxs)("div",{className:"profile-info-other",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"displayname-profile",children:g}),Object(j.jsxs)("div",{className:"twittername-profile",children:["@",y]}),Object(j.jsxs)("div",{className:"joined-profile",children:[Object(j.jsx)(pe.a,{className:"inline-icon"}),"  Joined ",R," "]}),Object(j.jsxs)("div",{className:"following-followers-profile",children:[Object(j.jsx)("strong",{children:W})," following ",Object(j.jsxs)("strong",{children:[A," "]})," followers"]}),Object(j.jsx)("div",{className:"bio-profile",children:ce})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"follow-unfollow-btn",onClick:function(){return Pe()},children:T?"Unfollow":"Follow"})})]}),Object(j.jsxs)("div",{className:"select-profile",children:[Object(j.jsx)("div",{className:"tweets-tweets select-profile-item tweets-tweets-active",ref:r,onClick:function(){return Fe(1)},children:" Tweets "}),Object(j.jsx)("div",{className:"tweets-replies select-profile-item",ref:l,onClick:function(){return Fe(2)},children:"Tweets & replies"}),Object(j.jsx)("div",{className:"tweets-media select-profile-item",ref:o,onClick:function(){return Fe(3)},children:" Media"}),Object(j.jsx)("div",{className:"tweets-likes select-profile-item",ref:u,onClick:function(){return Fe(4)},children:"Likes"})]})]}),Object(j.jsx)("div",{id:"1",ref:t,className:"visible-tab",children:Re.map((function(e){var t;return Object(j.jsx)(oe,(t={text:e.text,displayName:e.displayName,userName:e.userName,avatar:e.avatar,verified:e.verified,timeStamp:e.timeStamp},Object(M.a)(t,"text",e.text),Object(M.a)(t,"image",e.image),Object(M.a)(t,"likes",e.likes),Object(M.a)(t,"retweets",e.retweets),Object(M.a)(t,"responses",e.responses),Object(M.a)(t,"currUser",Oe),Object(M.a)(t,"retweeted",!!e.retweet),t))}))}),Object(j.jsx)("div",{id:"2",ref:s,className:"invisible-tab",children:ye.map((function(e){var t;return Object(j.jsx)(oe,(t={text:e.text,displayName:e.displayName,userName:e.userName,avatar:e.avatar,verified:e.verified,timeStamp:e.timeStamp},Object(M.a)(t,"text",e.text),Object(M.a)(t,"image",e.image),Object(M.a)(t,"likes",e.likes),Object(M.a)(t,"retweets",e.retweets),Object(M.a)(t,"responses",e.responses),Object(M.a)(t,"currUser",Oe),Object(M.a)(t,"retweeted",!!e.retweet),t))}))}),Object(j.jsx)("div",{id:"3",ref:a,className:"invisible-tab",children:$.map((function(e){var t;return Object(j.jsx)(oe,(t={text:e.text,displayName:e.displayName,userName:e.userName,avatar:e.avatar,verified:e.verified,timeStamp:e.timeStamp},Object(M.a)(t,"text",e.text),Object(M.a)(t,"image",e.image),Object(M.a)(t,"likes",e.likes),Object(M.a)(t,"retweets",e.retweets),Object(M.a)(t,"responses",e.responses),Object(M.a)(t,"currUser",Oe),Object(M.a)(t,"retweeted",!!e.retweet),t))}))}),Object(j.jsx)("div",{id:"4",ref:n,className:"invisible-tab",children:K.map((function(e){var t;return Object(j.jsx)(oe,(t={text:e.text,displayName:e.displayName,userName:e.userName,avatar:e.avatar,verified:e.verified,timeStamp:e.timeStamp},Object(M.a)(t,"text",e.text),Object(M.a)(t,"image",e.image),Object(M.a)(t,"likes",e.likes),Object(M.a)(t,"retweets",e.retweets),Object(M.a)(t,"responses",e.responses),Object(M.a)(t,"currUser",Oe),Object(M.a)(t,"retweeted",!!e.retweet),t))}))})]}),Object(j.jsx)(be,{userIdForImg:ne[5]})]})}var ge=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),s=t[0],a=t[1];return Object(c.useEffect)((function(){x.auth().onAuthStateChanged((function(e){e&&a(e.uid)}))}),[s]),Object(j.jsx)(l.a,{children:Object(j.jsxs)(f.c,{children:[Object(j.jsx)(f.a,{path:"/dashboard",children:Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(_,{}),Object(j.jsx)(ue,{}),Object(j.jsx)(be,{userIdForImg:s})]})}),Object(j.jsx)(f.a,{path:"/register",children:Object(j.jsx)(d,{})}),Object(j.jsx)(f.a,{path:"/login",children:Object(j.jsx)(w,{})}),Object(j.jsx)(f.a,{path:"/registerform",children:Object(j.jsx)(me,{})}),Object(j.jsx)(f.a,{path:"/registertwo",children:Object(j.jsx)(Oe,{})}),Object(j.jsx)(f.a,{path:"/profile",children:Object(j.jsx)(ve,{})}),Object(j.jsx)(f.a,{path:"/otheruserprofile",children:Object(j.jsx)(we,{})})]})})},Ne=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,181)).then((function(t){var s=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),c(e),a(e),n(e),r(e)}))},Se=s(60),ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USERINFO":return t.payload;default:return e}},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE":return e+1;default:return e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERID":return t.payload;default:return e}},Ue=Object(Se.a)({userInfo:ke,update:ye,userId:Ie}),Ce=Object(Se.b)(Ue,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(le.a,{store:Ce,children:Object(j.jsx)(ge,{})})}),document.getElementById("root")),Ne()},63:function(e,t,s){}},[[157,1,2]]]);
//# sourceMappingURL=main.5b184576.chunk.js.map